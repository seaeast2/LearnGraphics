// https://code.visualstudio.com/docs/reference/variables-reference
{
    "version": "2.0.0",
    "tasks": [
        { // ë””ë ‰í† ë¦¬ ìƒì„±. ì´ë¯¸ ìˆìœ¼ë©´ ìƒì„± ë¬´ì‹œ
            "label": "create-build-directory",
            "type": "shell",
            "command": "powershell",
            "args": [
                "-Command",
                "if (!(Test-Path '${workspaceFolder}\\Debug')) { New-Item -ItemType Directory -Path '${workspaceFolder}\\Debug' }; if (!(Test-Path '${workspaceFolder}\\Release')) { New-Item -ItemType Directory -Path '${workspaceFolder}\\Release' }"
                ],
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": false
            },
            "detail": "ë¹Œë“œ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤."
        },
        { // C++ ë””ë²„ê·¸ ë¹Œë“œ
            "label": "C++ ë¹Œë“œ Debug (MSVC)",
            "type": "shell",
            "command": "cl.exe",
            "args": [
                "/MDd", // Debug : MDd, Release : MD
                "/EHsc",
                "/Zi",
                "/Fe:${workspaceFolder}\\Debug\\LearnGraphics.exe", // ì»´íŒŒì¼ ê²°ê³¼ë¬¼ì€ ìŠ¤íŠœë””ì˜¤ì—ì„œ ê²°ì •í•˜ë„ë¡ ìˆ˜ì • ìš”ë§
                "/Fo:${workspaceFolder}\\Debug\\",  // ğŸ”¥ ì¤‘ê°„ ìƒì„± íŒŒì¼(.obj)ì„ Debug í´ë”ì— ì €ì¥
                "${workspaceFolder}\\LearnGraphics\\*.cpp", // ì†ŒìŠ¤ íŒŒì¼ ê²½ë¡œ
                // í—¤ë” íŒŒì¼ ê²½ë¡œ
                "/I", "C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.22621.0\\ucrt",
                "/I", "C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.22621.0\\shared",
                "/I", "C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.22621.0\\um",
                "/I", "C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools\\VC\\Tools\\MSVC\\14.43.34808\\include",
                "/I", "C:\\src\\vcpkg\\installed\\x64-windows\\include",
                //"${file}", // ì´ê±´ ì´ ìœ„ì¹˜ì— ìˆì–´ì•¼ í•¨.
                // ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ë¡œ
                "/link",
                "/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools\\VC\\Tools\\MSVC\\14.43.34808\\lib\\x64",
                "/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\Lib\\10.0.22621.0\\ucrt\\x64",
                "/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\Lib\\10.0.22621.0\\um\\x64",
                "/LIBPATH:C:\\src\\vcpkg\\installed\\x64-windows\\debug\\lib",
                "${workspaceFolder}\\LearnGraphics\\*.res", // ë¦¬ì†ŒìŠ¤ íŒŒì¼ ê²½ë¡œ
                "imguid.lib",
                "glm.lib",
                "d3d11.lib", 
                "d3dcompiler.lib ",
                "User32.lib",
                "Gdi32.lib",
                "Comdlg32.lib",
                "Shell32.lib"
            ],
            "group": {
                "kind": "build",
                "isDefault": true // Ctrl + Shift + B : ì»´íŒŒì¼ì‹œ Debug, Release ì„ íƒ í•  ìˆ˜ ìˆë„ë¡ í•¨
            },
            "dependsOn" : [
                "create-build-directory",
                "compile-rc"
            ],
            "problemMatcher": ["$msCompile"],
            "detail": "MSVCë¥¼ ì‚¬ìš©í•˜ì—¬ C++ íŒŒì¼ì„ ë¹Œë“œí•©ë‹ˆë‹¤."
        },
        { // C++ ë°°í¬ ë¹Œë“œ
            "label": "C++ ë¹Œë“œ Release (MSVC)",
            "type": "shell",
            "command": "cl.exe",
            "args": [
                "/MD", // Release : MD
                "/EHsc",
                "/Zi",
                "/Fe:${workspaceFolder}\\Release\\LearnGraphics.exe",
                "/Fo:${workspaceFolder}\\Release\\",  // ğŸ”¥ ì¤‘ê°„ ìƒì„± íŒŒì¼(.obj)ì„ build í´ë”ì— ì €ì¥
                "${workspaceFolder}\\LearnGraphics\\*.cpp", // ì†ŒìŠ¤ íŒŒì¼ ê²½ë¡œ
                // í—¤ë” íŒŒì¼ ê²½ë¡œ
                "/I", "C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.22621.0\\ucrt",
                "/I", "C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.22621.0\\shared",
                "/I", "C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.22621.0\\um",
                "/I", "C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools\\VC\\Tools\\MSVC\\14.43.34808\\include",
                "/I", "C:\\src\\vcpkg\\installed\\x64-windows\\include",
                //"${file}", // ì´ê±´ ì´ ìœ„ì¹˜ì— ìˆì–´ì•¼ í•¨.
                // ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ë¡œ
                "/link",
                "/LIBPATH:C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools\\VC\\Tools\\MSVC\\14.43.34808\\lib\\x64",
                "/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\Lib\\10.0.22621.0\\ucrt\\x64",
                "/LIBPATH:C:\\Program Files (x86)\\Windows Kits\\10\\Lib\\10.0.22621.0\\um\\x64",
                "/LIBPATH:C:\\src\\vcpkg\\installed\\x64-windows\\lib",
                "${workspaceFolder}\\LearnGraphics\\*.res", // ë¦¬ì†ŒìŠ¤ íŒŒì¼ ê²½ë¡œ
                "imgui.lib",
                "glm.lib",
                "d3d11.lib", 
                "d3dcompiler.lib ",
                "User32.lib",
                "Gdi32.lib",
                "Comdlg32.lib",
                "Shell32.lib"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "dependsOn" : [
                "create-build-directory",
                "compile-rc"
            ],
            "problemMatcher": ["$msCompile"],
            "detail": "MSVCë¥¼ ì‚¬ìš©í•˜ì—¬ C++ íŒŒì¼ì„ ë¹Œë“œí•©ë‹ˆë‹¤."
        },
        { // *.rc ë¦¬ì†ŒìŠ¤ ì»´íŒŒì¼
            "label": "compile-rc",
            "command": "rc.exe",
            "args": [
                "/I", "C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.22621.0\\shared",
                "/I", "C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.22621.0\\um",
                "${workspaceFolder}\\LearnGraphics\\LearnGraphics.rc",
            ],
            "problemMatcher": ["$msCompile"],
            "group": {
                "kind": "build",
                "isDefault": false
            },
        },
        { // ë¹Œë“œ íŒŒì¼ ì‚­ì œ
            "label": "ì†”ë¥˜ì…˜ ì •ë¦¬ (MSVC)",
            "type": "shell",
            "command": "cmd",
            "args": [
                "/c", "del /S /Q ${workspaceFolder}\\Debug\\*.* ${workspaceFolder}\\Release\\*.*",
            ],
            "group": {
                "kind": "build",
                "isDefault": false
            }
        }
    ]
}
